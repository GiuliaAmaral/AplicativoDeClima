(this["webpackJsonpaplicativo-de-clima"]=this["webpackJsonpaplicativo-de-clima"]||[]).push([[0],{66:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(4),r=n.n(a),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},i=n(14),o=n(5),l=n.n(o),d=n(7),b=n(8),u=n(13),j=n.n(u),m=n(1);function x(e){return Object(c.useEffect)((function(){}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{class:"container text-center mt-5",children:Object(m.jsx)("div",{class:"spinner-border",role:"status",children:Object(m.jsx)("span",{class:"visually-hidden",children:"Carregando..."})})})})}function h(e){return Object(c.useEffect)((function(){}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{class:"container text-center mt-5",children:[e.msg.icon,Object(m.jsx)("h1",{children:e.msg.titulo}),Object(m.jsx)("p",{children:e.msg.msg}),e.msg.btn]})})}function v(){var e,t,n,a,r,s,i,o,u,j,v,O,p,f,g,w=Object(c.useState)(!0),N=Object(b.a)(w,2),y=N[0],k=N[1],F=Object(c.useState)(null),C=Object(b.a)(F,2),E=C[0],S=C[1],T=Object(c.useState)(!1),I=Object(b.a)(T,2),D=I[0],P=I[1],q=Object(c.useState)({}),G=Object(b.a)(q,2),J=G[0],L=G[1];function _(){return(_=Object(d.a)(l.a.mark((function e(t){var n,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={},new FormData(t.target).forEach((function(e,t){n[t]=e})),e.next=6,k(!0);case 6:return c={method:"GET",redirect:"follow"},e.prev=7,e.next=10,fetch("https://weather.contrateumdev.com.br/api/weather/city/?city=".concat(n.city),c);case 10:return a=e.sent,e.next=13,a.json();case 13:return a=e.sent,e.next=16,B(a.coord.lat,a.coord.lon);case 16:if(a.horas=e.sent,"404"!==a.cod){e.next=24;break}return e.next=20,S({icon:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("i",{class:"bi bi-x-circle-fill fs-1"})}),titulo:"Erro",msg:"Cidade n\xe3o encontrada,verifique novamente",btn:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){window.location.reload()},children:"Tentar novamente!"})})});case 20:return e.next=22,k(!1);case 22:e.next=30;break;case 24:return e.next=26,P(!1);case 26:return e.next=28,L(a);case 28:return e.next=30,k(!1);case 30:e.next=38;break;case 32:return e.prev=32,e.t0=e.catch(7),e.next=36,S({icon:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("i",{class:"bi bi-x-circle-fill fs-1"})}),titulo:"Erro",msg:"Erro inesperado, tente novamente mais tarde",btn:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){window.location.reload()},children:"Tentar novamente!"})})});case 36:return e.next=38,k(!1);case 38:case"end":return e.stop()}}),e,null,[[7,32]])})))).apply(this,arguments)}function B(e,t){return M.apply(this,arguments)}function M(){return M=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(d.a)(l.a.mark((function e(c,a){var r,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"GET",redirect:"follow"},e.prev=1,e.next=4,fetch("https://secure.geonames.org/timezoneJSON?lat=".concat(t,"&lng=").concat(n,"&username=giuliaamaral"),r);case 4:return s=e.sent,e.next=7,s.json();case 7:return s=e.sent,i=new Date(s.time),(o=i.getHours())>=5&&o<=11&&(s.periodo="manha"),o>=12&&o<=17&&(s.periodo="tarde"),o>=18&&o<=23&&(s.periodo="noite"),o>=0&&o<=4&&(s.periodo="madrugada"),e.next=16,c(s);case 16:e.next=26;break;case 18:return e.prev=18,e.t0=e.catch(1),e.next=22,S({icon:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("i",{class:"bi bi-x-circle-fill fs-1"})}),titulo:"Erro",msg:"Erro inesperado, tente novamente mais tarde",btn:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){window.location.reload()},children:"Tentar novamente!"})})});case 22:return e.next=24,k(!1);case 24:return e.next=26,a(e.t0);case 26:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}return Object(c.useEffect)((function(){Object(d.a)(l.a.mark((function e(){var t,n,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.navigator.geolocation&&(a=function(){return(a=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(!0);case 2:return e.next=4,k(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(e){return a.apply(this,arguments)},n=function(){return(n=Object(d.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",redirect:"follow"},e.prev=1,e.next=4,fetch("https://weather.contrateumdev.com.br/api/weather?lat=".concat(t.coords.latitude,"&lon=").concat(t.coords.longitude),n);case 4:return c=e.sent,e.next=7,c.json();case 7:return c=e.sent,e.next=10,B(c.coord.lat,c.coord.lon);case 10:if(c.horas=e.sent,console.log(c),"404"!==c.cod){e.next=19;break}return e.next=15,S({icon:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("i",{class:"bi bi-x-circle-fill fs-1"})}),titulo:"Erro",msg:"Cidade n\xe3o encontrada,verifique novamente",btn:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){window.location.reload()},children:"Tentar novamente!"})})});case 15:return e.next=17,k(!1);case 17:e.next=25;break;case 19:return e.next=21,P(!1);case 21:return e.next=23,L(c);case 23:return e.next=25,k(!1);case 25:e.next=33;break;case 27:return e.prev=27,e.t0=e.catch(1),e.next=31,S({icon:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("i",{class:"bi bi-x-circle-fill fs-1"})}),titulo:"Erro",msg:"Erro inesperado, tente novamente mais tarde",btn:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){window.location.reload()},children:"Tentar novamente!"})})});case 31:return e.next=33,k(!1);case 33:case"end":return e.stop()}}),e,null,[[1,27]])})))).apply(this,arguments)},t=function(e){return n.apply(this,arguments)},window.navigator.geolocation.getCurrentPosition(t,c));case 1:case"end":return e.stop()}}),e)})))()}),[]),Object(m.jsx)(m.Fragment,{children:y?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(x,{})}):Object(m.jsx)(m.Fragment,{children:null!==E?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(h,{msg:E})}):Object(m.jsx)(m.Fragment,{children:!1===D?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"Incio fundoNuvem ".concat(null===J||void 0===J||null===(e=J.horas)||void 0===e?void 0:e.periodo),children:Object(m.jsxs)("div",{className:"conteudoNasNuvens",children:[Object(m.jsxs)("nav",{className:"navbar navbar-light bg-light d-block shadow bg-body",onClick:function(){P(!0)},children:[Object(m.jsx)("button",{type:"button",className:"router float-start ms-2 text-dark btn btn-link p-0",children:Object(m.jsx)("i",{className:"bi bi-plus-lg fs-1"})}),Object(m.jsxs)("p",{className:"fs-5 text-center mt-2 mb-2",children:[(null===J||void 0===J?void 0:J.name)||"Escolha a cidade"," - ",null===J||void 0===J||null===(t=J.sys)||void 0===t?void 0:t.country]})]}),Object(m.jsxs)("section",{className:"text-center text-light m-5 p-5",children:[(null===J||void 0===J||null===(n=J.weather)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.icon)&&Object(m.jsx)("img",{alt:"icone",src:"https://openweathermap.org/img/wn/".concat(null===J||void 0===J||null===(r=J.weather)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.icon,"@2x.png")}),Object(m.jsxs)("h1",{className:"display-1 fw-bold",children:[null===J||void 0===J||null===(i=J.main)||void 0===i?void 0:i.temp,"\xb0C"]}),Object(m.jsx)("h3",{children:null===J||void 0===J||null===(o=J.weather)||void 0===o||null===(u=o[0])||void 0===u?void 0:u.description}),Object(m.jsxs)("p",{children:["Sensa\xe7\xe3o t\xe9rmica: ",null===J||void 0===J||null===(j=J.main)||void 0===j?void 0:j.feels_like,"\xb0C"]})]}),Object(m.jsx)("section",{children:Object(m.jsx)("div",{className:"container text-center",children:Object(m.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(m.jsx)("div",{className:"col-4 mb-3",children:Object(m.jsx)("div",{className:"card shadow bg-body rounded",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h5",{className:"card-title",children:[null===J||void 0===J||null===(v=J.main)||void 0===v?void 0:v.temp_min,"\xb0C"]}),Object(m.jsx)("p",{className:"card-text",children:"M\xednima"})]})})}),Object(m.jsx)("div",{className:"col-4 mb-3",children:Object(m.jsx)("div",{className:"card shadow bg-body rounded",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h5",{className:"card-title",children:[null===J||void 0===J||null===(O=J.main)||void 0===O?void 0:O.temp_max,"\xb0C"]}),Object(m.jsx)("p",{className:"card-text",children:"M\xe1xima"})]})})}),Object(m.jsx)("div",{className:"col-4 mb-3",children:Object(m.jsx)("div",{className:"card shadow bg-body rounded",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h5",{className:"card-title",children:[null===J||void 0===J||null===(p=J.main)||void 0===p?void 0:p.humidity,"%"]}),Object(m.jsx)("p",{className:"card-text",children:"\xdamidade"})]})})}),Object(m.jsx)("div",{className:"col-6 mb-3",children:Object(m.jsx)("div",{className:"card shadow bg-body rounded",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h5",{className:"card-title",children:[null===J||void 0===J||null===(f=J.main)||void 0===f?void 0:f.pressure,Object(m.jsx)("span",{className:"fs-6",children:"mba"})]}),Object(m.jsx)("p",{className:"card-text",children:"Press\xe3o"})]})})}),Object(m.jsx)("div",{className:"col-6 mb-3",children:Object(m.jsx)("div",{className:"card shadow bg-body rounded",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h5",{className:"card-title",children:[null===J||void 0===J||null===(g=J.wind)||void 0===g?void 0:g.speed,Object(m.jsx)("span",{className:"fs-6",children:"km/h"})]}),Object(m.jsx)("p",{className:"card-text",children:"Vel. Vento"})]})})})]})})})]})})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"Pesquisa",children:Object(m.jsx)("nav",{className:"navbar navbar-light bg-light d-block shadow bg-body",children:Object(m.jsxs)("form",{onSubmit:function(e){return _.apply(this,arguments)},children:[Object(m.jsx)("input",{class:"form-control d-inline-block ms-3 mb-1",name:"city",type:"text",placeholder:"Escreva aqui o nome de uma cidade",style:{width:"85%"},autoFocus:!0,required:!0}),Object(m.jsx)("button",{type:"submit",className:"router float-end me-2 text-dark btn btn-link p-0",children:Object(m.jsx)("i",{className:"bi bi-check-lg fs-1"})})]})})})})})})})}var O=n.p+"static/media/fav-clima.02f1373e.png";function p(){var e=Object(i.b)(),t=e.pwaInstall,n=e.supported,a=e.isInstalled,r=Object(c.useState)(!0),s=Object(b.a)(r,2),o=s[0],u=s[1],h=Object(c.useState)("Inicio"),p=Object(b.a)(h,2),f=p[0],g=p[1];return Object(c.useEffect)((function(){u(!1),setInterval((function(){j()("a.router").on("click",function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=j()(t.currentTarget),t.preventDefault(),e.next=4,u(!0);case 4:return e.next=6,g(n.attr("href"));case 6:return e.next=8,u(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),500)}),[]),Object(m.jsxs)(m.Fragment,{children:[o?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(x,{})}):Object(m.jsx)(m.Fragment,{children:"Inicio"===f&&Object(m.jsx)(v,{})}),n()&&!a()&&Object(m.jsx)("div",{className:"d-flex justify-content-center",children:Object(m.jsx)("div",{class:"toast show position-fixed bottom-0 mb-3 ",role:"alert","aria-live":"assertive","aria-atomic":"true",children:Object(m.jsxs)("div",{class:"toast-body",children:["Deseja instalar esse App no seu cell?",Object(m.jsxs)("div",{class:"mt-2 pt-2 border-top",children:[Object(m.jsx)("button",{type:"button",class:"btn btn-primary btn-sm me-3",onClick:function(){t({title:"Clima",logo:O}).then((function(){return alert("Siga as instru\xe7\xf5es para instala\xe7\xe3o.")}))},children:"Sim, instalar app"}),Object(m.jsx)("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"toast",children:"N\xe3o"})]})]})})})]})}n(43),n(44),n(45),n(66);r.a.render(Object(m.jsx)(i.a,{enableLogging:!0,children:Object(m.jsx)(p,{})}),document.getElementById("root")),s()}},[[68,1,2]]]);
//# sourceMappingURL=main.bd253ad8.chunk.js.map