(this["webpackJsonpaplicativo-de-clima"]=this["webpackJsonpaplicativo-de-clima"]||[]).push([[0],{66:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(4),s=n.n(a),r=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},i=n(14),l=n(6),o=n.n(l),d=n(8),b=n(7),j=n(13),u=n.n(j),m=n(1);function x(e){return Object(c.useEffect)((function(){}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{class:"container text-center mt-5",children:Object(m.jsx)("div",{class:"spinner-border",role:"status",children:Object(m.jsx)("span",{class:"visually-hidden",children:"Carregando..."})})})})}function h(e){return Object(c.useEffect)((function(){}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{class:"container text-center mt-5",children:[e.msg.icon,Object(m.jsx)("h1",{children:e.msg.titulo}),Object(m.jsx)("p",{children:e.msg.msg}),e.msg.btn]})})}function O(){var e,t,n,a,s,r,i,l,j,u,O,v,p,f=Object(c.useState)(!0),g=Object(b.a)(f,2),N=g[0],w=g[1],y=Object(c.useState)(null),k=Object(b.a)(y,2),F=k[0],C=k[1],E=Object(c.useState)(!1),S=Object(b.a)(E,2),T=S[0],I=S[1],q=Object(c.useState)({}),D=Object(b.a)(q,2),P=D[0],L=D[1];function _(){return(_=Object(d.a)(o.a.mark((function e(t){var n,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={},new FormData(t.target).forEach((function(e,t){n[t]=e})),e.next=6,w(!0);case 6:return c={method:"GET",redirect:"follow"},e.prev=7,e.next=10,fetch("https://weather.contrateumdev.com.br/api/weather/city/?city=".concat(n.city),c);case 10:return a=e.sent,e.next=13,a.json();case 13:if("404"!==(a=e.sent).cod){e.next=21;break}return e.next=17,C({icon:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("i",{class:"bi bi-x-circle-fill fs-1"})}),titulo:"Erro",msg:"Cidade n\xe3o encontrada,verifique novamente",btn:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){window.location.reload()},children:"Tentar novamente!"})})});case 17:return e.next=19,w(!1);case 19:e.next=27;break;case 21:return e.next=23,I(!1);case 23:return e.next=25,L(a);case 25:return e.next=27,w(!1);case 27:e.next=35;break;case 29:return e.prev=29,e.t0=e.catch(7),e.next=33,C({icon:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("i",{class:"bi bi-x-circle-fill fs-1"})}),titulo:"Erro",msg:"Erro inesperado, tente novamente mais tarde",btn:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){window.location.reload()},children:"Tentar novamente!"})})});case 33:return e.next=35,w(!1);case 35:case"end":return e.stop()}}),e,null,[[7,29]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){Object(d.a)(o.a.mark((function e(){var t,n,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.navigator.geolocation&&(a=function(){return(a=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(!0);case 2:return e.next=4,w(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(e){return a.apply(this,arguments)},n=function(){return(n=Object(d.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n={method:"GET",redirect:"follow"},e.prev=2,e.next=5,fetch("https://weather.contrateumdev.com.br/api/weather?lat=".concat(t.coords.latitude,"&lon=").concat(t.coords.longitude),n);case 5:return c=e.sent,e.next=8,c.json();case 8:if("404"!==(c=e.sent).cod){e.next=16;break}return e.next=12,C({icon:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("i",{class:"bi bi-x-circle-fill fs-1"})}),titulo:"Erro",msg:"Cidade n\xe3o encontrada,verifique novamente",btn:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){window.location.reload()},children:"Tentar novamente!"})})});case 12:return e.next=14,w(!1);case 14:e.next=22;break;case 16:return e.next=18,I(!1);case 18:return e.next=20,L(c);case 20:return e.next=22,w(!1);case 22:e.next=30;break;case 24:return e.prev=24,e.t0=e.catch(2),e.next=28,C({icon:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("i",{class:"bi bi-x-circle-fill fs-1"})}),titulo:"Erro",msg:"Erro inesperado, tente novamente mais tarde",btn:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{className:"btn btn-secondary",onClick:function(){window.location.reload()},children:"Tentar novamente!"})})});case 28:return e.next=30,w(!1);case 30:case"end":return e.stop()}}),e,null,[[2,24]])})))).apply(this,arguments)},t=function(e){return n.apply(this,arguments)},window.navigator.geolocation.getCurrentPosition(t,c));case 1:case"end":return e.stop()}}),e)})))()}),[]),Object(m.jsx)(m.Fragment,{children:N?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(x,{})}):Object(m.jsx)(m.Fragment,{children:null!==F?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(h,{msg:F})}):Object(m.jsx)(m.Fragment,{children:!1===T?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"Incio fundoNuvem",children:Object(m.jsxs)("div",{className:"conteudoNasNuvens",children:[Object(m.jsxs)("nav",{className:"navbar navbar-light bg-light d-block shadow bg-body",onClick:function(){I(!0)},children:[Object(m.jsx)("button",{type:"button",className:"router float-start ms-2 text-dark btn btn-link p-0",children:Object(m.jsx)("i",{className:"bi bi-plus-lg fs-1"})}),Object(m.jsx)("p",{className:"fs-5 text-center mt-2 mb-2",children:(null===P||void 0===P?void 0:P.name)||"Escolha a cidade"})]}),Object(m.jsxs)("section",{className:"text-center text-light m-5 p-5",children:[(null===P||void 0===P||null===(e=P.weather)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.icon)&&Object(m.jsx)("img",{alt:"icone",src:"https://openweathermap.org/img/wn/".concat(null===P||void 0===P||null===(n=P.weather)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.icon,"@2x.png")}),Object(m.jsx)("h1",{className:"display-1 fw-bold",children:null===P||void 0===P||null===(s=P.main)||void 0===s?void 0:s.temp}),Object(m.jsx)("h3",{children:null===P||void 0===P||null===(r=P.weather)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.description}),Object(m.jsxs)("p",{children:["Sensa\xe7\xe3o t\xe9rmica: ",null===P||void 0===P||null===(l=P.main)||void 0===l?void 0:l.feels_like,"\xb0C"]})]}),Object(m.jsx)("section",{children:Object(m.jsx)("div",{className:"container text-center",children:Object(m.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(m.jsx)("div",{className:"col-4 mb-3",children:Object(m.jsx)("div",{className:"card shadow bg-body rounded",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h5",{className:"card-title",children:[null===P||void 0===P||null===(j=P.main)||void 0===j?void 0:j.temp_min,"\xb0C"]}),Object(m.jsx)("p",{className:"card-text",children:"M\xednima"})]})})}),Object(m.jsx)("div",{className:"col-4 mb-3",children:Object(m.jsx)("div",{className:"card shadow bg-body rounded",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h5",{className:"card-title",children:[null===P||void 0===P||null===(u=P.main)||void 0===u?void 0:u.temp_max,"\xb0C"]}),Object(m.jsx)("p",{className:"card-text",children:"M\xe1xima"})]})})}),Object(m.jsx)("div",{className:"col-4 mb-3",children:Object(m.jsx)("div",{className:"card shadow bg-body rounded",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h5",{className:"card-title",children:[null===P||void 0===P||null===(O=P.main)||void 0===O?void 0:O.humidity,"%"]}),Object(m.jsx)("p",{className:"card-text",children:"\xdamidade"})]})})}),Object(m.jsx)("div",{className:"col-6 mb-3",children:Object(m.jsx)("div",{className:"card shadow bg-body rounded",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h5",{className:"card-title",children:[null===P||void 0===P||null===(v=P.main)||void 0===v?void 0:v.pressure,Object(m.jsx)("span",{className:"fs-6",children:"mba"})]}),Object(m.jsx)("p",{className:"card-text",children:"Press\xe3o"})]})})}),Object(m.jsx)("div",{className:"col-6 mb-3",children:Object(m.jsx)("div",{className:"card shadow bg-body rounded",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h5",{className:"card-title",children:[null===P||void 0===P||null===(p=P.wind)||void 0===p?void 0:p.speed,Object(m.jsx)("span",{className:"fs-6",children:"km/h"})]}),Object(m.jsx)("p",{className:"card-text",children:"Vel. Vento"})]})})})]})})})]})})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"Pesquisa",children:Object(m.jsx)("nav",{className:"navbar navbar-light bg-light d-block shadow bg-body",children:Object(m.jsxs)("form",{onSubmit:function(e){return _.apply(this,arguments)},children:[Object(m.jsx)("input",{class:"form-control d-inline-block ms-3 mb-1",name:"city",type:"text",placeholder:"Escreva aqui o nome de uma cidade",style:{width:"85%"},autoFocus:!0,required:!0}),Object(m.jsx)("button",{type:"submit",className:"router float-end me-2 text-dark btn btn-link p-0",children:Object(m.jsx)("i",{className:"bi bi-check-lg fs-1"})})]})})})})})})})}var v=n.p+"static/media/fav-clima.02f1373e.png";function p(){var e=Object(i.b)(),t=e.pwaInstall,n=e.supported,a=e.isInstalled,s=Object(c.useState)(!0),r=Object(b.a)(s,2),l=r[0],j=r[1],h=Object(c.useState)("Inicio"),p=Object(b.a)(h,2),f=p[0],g=p[1];return Object(c.useEffect)((function(){j(!1),setInterval((function(){u()("a.router").on("click",function(){var e=Object(d.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u()(t.currentTarget),t.preventDefault(),e.next=4,j(!0);case 4:return e.next=6,g(n.attr("href"));case 6:return e.next=8,j(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),500)}),[]),Object(m.jsxs)(m.Fragment,{children:[l?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(x,{})}):Object(m.jsx)(m.Fragment,{children:"Inicio"===f&&Object(m.jsx)(O,{})}),n()&&!a()&&Object(m.jsx)("div",{className:"d-flex justify-content-center",children:Object(m.jsx)("div",{class:"toast show position-fixed bottom-0 mb-3 ",role:"alert","aria-live":"assertive","aria-atomic":"true",children:Object(m.jsxs)("div",{class:"toast-body",children:["Deseja instalar esse App no seu cell?",Object(m.jsxs)("div",{class:"mt-2 pt-2 border-top",children:[Object(m.jsx)("button",{type:"button",class:"btn btn-primary btn-sm me-3",onClick:function(){t({title:"Clima",logo:v}).then((function(){return alert("Siga as instru\xe7\xf5es para instala\xe7\xe3o.")}))},children:"Sim, instalar app"}),Object(m.jsx)("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"toast",children:"N\xe3o"})]})]})})})]})}n(43),n(44),n(45),n(66);s.a.render(Object(m.jsx)(i.a,{enableLogging:!0,children:Object(m.jsx)(p,{})}),document.getElementById("root")),r()}},[[68,1,2]]]);
//# sourceMappingURL=main.151a3389.chunk.js.map